window.addEventListener("resize",()=>{if(window.innerHeight>window.innerWidth){document.body.style.backgroundImage="url('bg.jpg')"}else{document.body.style.backgroundImage="url('bg2.jpg')"}});bookmark();var input=document.getElementById('text');var search=document.getElementById('search');var urlRegex=/^(https?:\/\/)[-\w\.]+(:\d+)?(\/([^\s]*(\?\S+)?)?)?$/;var userText="";input.addEventListener('keyup',function(e){if(urlRegex.test(input.value)){userText=input.value;search.innerText="访问"}else{userText="http://cn.bing.com/search?q="+input.value;search.innerText="搜索"}if(e.keyCode===13){location.href=userText}});function bookmark(cho){if(cho=="add"){const title=document.getElementById('name').value;const url=document.getElementById('url').value;const id=Date.now();const bookmarkId='bookmark_'+id;if(title&&url){const bookmark={url:"http://"+url,title:title,id:id};localStorage.setItem(bookmarkId,JSON.stringify(bookmark));addbookmark("http://"+url,title,id)}show()}else if(cho=="del"){var selectElement=document.getElementById('markdel-selsct');var selectedIndex=selectElement.selectedIndex;var selectedValue=selectElement.options[selectedIndex].value;if(selectedValue!="选择要删除的书签名称..."){localStorage.removeItem("bookmark_"+selectedValue);selectElement.remove(selectedIndex);var linkElement=document.getElementById("bookmark-"+selectedValue);linkElement.href="#";linkElement.style.textDecoration="line-through"}show()}else{for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(key.startsWith('bookmark_')){const bookmark=JSON.parse(localStorage.getItem(key));addbookmark(bookmark.url,bookmark.title,bookmark.id)}}}}function show(cho){var del_div=document.getElementById('del-div');var add_div=document.getElementById('add-div');var card=document.getElementById('card');if(cho=="del"){del_div.style.display="";add_div.style.display="none";card.style.display="flex"}else if(cho=="add"){del_div.style.display="none";add_div.style.display="";card.style.display="flex"}else{card.style.display="none"}}function addbookmark(url,title,id){const bookDiv=document.getElementById('bookmark-index');const delopt=document.getElementById('markdel-selsct');const link=document.createElement('a');const br=document.createElement('br');link.href=url;link.textContent=title;link.id="bookmark-"+id;bookDiv.appendChild(br);bookDiv.appendChild(link);const option=document.createElement('option');option.value=id;option.textContent=title;delopt.appendChild(option)}